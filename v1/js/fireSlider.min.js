/* fireSlider (1.0.0). (C) 2014 CJ O'Hara. MIT @license: en.wikipedia.org/wiki/MIT_License */(function(){fireSlider=function(e,t,n){function l(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function c(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function h(e,t){var n=!1;e.classList&&e.classList.contains(t)&&(n=!0);return n}function p(e,t){var n=-1;for(var r=0;r<e.length;r++)(" "+e[r].className+" ").indexOf(" "+t+" ")>-1&&(n=r);return n}function d(e){var t=[];for(var n=0;n<e.length;n++){var r=e[n].cloneNode(!0);t.push(r)}return t}function v(e,t){for(var n=0;n<t;n++)e.unshift(e.pop(e.length))}function m(e,t){for(i=0;i<t;i++)e.push(e.shift())}function g(e,t){var n=[];for(var r=0;r<f.totalSlides*t;r++){var i=e[r%f.totalSlides].cloneNode(!0);n.push(i)}return n}function y(){f.show=t.show;f.active=t.active;if(typeof n!="undefined"){var e=-1,r=-1;for(var i=0;i<n.length;i++)if(n[i].breakpoint&&n[i].breakpoint>=f.windowWidth&&(n[i].breakpoint<r||r===-1)){e=i;r=n[i].breakpoint}if(e!==-1){n[e].show&&(f.show=n[e].show);n[e].active&&(f.active=n[e].active)}}}function b(){var e=1,t=0;f.windowWidth=window.innerWidth;f.slideWidth*f.totalSlides<f.windowWidth&&(t=Math.ceil((f.windowWidth-f.slideWidth*f.totalSlides)/f.slideWidth));t+=2;t>0&&(e+=Math.ceil(t/f.totalSlides));return e}function w(e){var t=Math.floor(e.length/2),n=f.slideWidthPercent*(f.active-1);f.minX=f.slideWidthPercent*-t+n;f.maxX=f.slideWidthPercent*(e.length-t-1)+n;var r=0;for(var i=t;i>0;i--){e[r].style.left=f.slideWidthPercent*-i+n+"%";e[r].style.width=f.slideWidthPercent+"%";r++}for(i=0;i<e.length-t;i++){e[r].style.left=f.slideWidthPercent*i+n+"%";e[r].style.width=f.slideWidthPercent+"%";r++}}function E(e){for(var t=0;t<f.currentSlide;t++)for(var n=0;n<e.length;n++)Math.floor(parseFloat(e[n].style.left)*1e4)===Math.floor(parseFloat(f.minX)*1e4)?e[n].style.left=parseFloat(f.maxX)+"%":e[n].style.left=parseFloat(e[n].style.left)-f.slideWidthPercent+"%"}function S(e,t){var n={};if(document.createEvent){n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!1)}else{n=document.createEventObject();n.eventType=t}n.eventName=t;document.createEvent?e.dispatchEvent(n):e.fireEvent("on"+n.eventType,n)}function x(){for(var e=0;e<f.totalSlides;e++){var t=document.createElement("span");f.pager.appendChild(t)}f.pagerSpans=f.pager.querySelectorAll(":scope > span");l(f.pagerSpans[0],"fire-pager-active")}function T(e){var t=-1,n=e.parentNode.childNodes;for(var r=0;r<n.length;r++)e===n[r]&&(t=r);return t}function N(){a=setInterval(_,t.delay)}function C(){clearInterval(a)}function k(){x();y();f.slideWidthPercent=1/f.show*100;f.slideWidth=f.sliderWidth/f.show;var e=b(),t=g(u,e);for(var n=0;n<t.length;n++){t[n].style.width=f.slideWidthPercent+"%";t[n].style.position="absolute"}l(t[0],"fire-slider-active");v(t,Math.floor(t.length/2));w(t);o.innerHTML="";u=t.slice();var r=t.length;for(n=0;n<r;n++)o.appendChild(t.shift());S(o,"fire-slider-init");N()}function L(){f.windowWidth=window.innerWidth;f.sliderWidth=o.offsetWidth;y();f.slideWidthPercent=1/f.show*100;f.slideWidth=f.sliderWidth/f.show;var e=b();if(u.length!==e*f.totalSlides){var t=d(u);m(t,Math.floor(t.length/2));var n=p(t,"fire-slider-active");c(t[n],"fire-slider-active");var r=g(t,e);l(r[n],"fire-slider-active");var s=Math.floor(r.length/2);v(r,s);f.currentSlide=n;o.innerHTML="";w(r);E(r);u=r.slice();var a=r.length;for(i=0;i<a;i++)o.appendChild(r.shift())}else{w(u);E(u)}}function A(e,n,r){e.style.left=n+"%";var i=1;r.multiplier&&(i=r.multiplier);r.direction==="prev"?Velocity(e,{translateX:[0,-e.offsetWidth*i]},{duration:t.speed,queue:t.effect}):Velocity(e,{translateX:[0,e.offsetWidth*i]},{duration:t.speed,queue:t.effect})}function O(e,n,r){switch(t.effect){case"slideInOut":A(e,n,r);break;default:A(e,n,r)}}function M(){C();var e=o.querySelectorAll(":scope > "+t.slide);for(var n=0;n<e.length;n++)Math.floor(parseFloat(e[n].style.left)*1e4)===Math.floor(parseFloat(f.maxX)*1e4)?O(e[n],parseFloat(f.minX),{direction:"prev"}):O(e[n],parseFloat(e[n].style.left)+f.slideWidthPercent,{direction:"prev"});Velocity.Utilities.dequeue(e,t.effect);var r=p(e,"fire-slider-active");if(r!==-1){c(e[r],"fire-slider-active");r!==0?l(e[r-1],"fire-slider-active"):l(e[e.length-1],"fire-slider-active")}c(f.pagerSpans[f.currentSlide%f.totalSlides],"fire-pager-active");f.currentSlide!==0?f.currentSlide=f.currentSlide-1:f.currentSlide=e.length-1;l(f.pagerSpans[f.currentSlide%f.totalSlides],"fire-pager-active");S(o,"fire-slider-prev");N()}function _(){C();var e=o.querySelectorAll(":scope > "+t.slide);for(var n=0;n<e.length;n++)Math.floor(parseFloat(e[n].style.left)*1e4)===Math.floor(parseFloat(f.minX)*1e4)?O(e[n],parseFloat(f.maxX),{direction:"next"}):O(e[n],parseFloat(e[n].style.left)-f.slideWidthPercent,{direction:"next"});Velocity.Utilities.dequeue(e,t.effect);var r=p(e,"fire-slider-active");if(r!==-1){c(e[r],"fire-slider-active");r!==e.length-1?l(e[r+1],"fire-slider-active"):l(e[0],"fire-slider-active")}c(f.pagerSpans[f.currentSlide%f.totalSlides],"fire-pager-active");f.currentSlide!==e.length-1?f.currentSlide=f.currentSlide+1:f.currentSlide=0;l(f.pagerSpans[f.currentSlide%f.totalSlides],"fire-pager-active");S(o,"fire-slider-next");N()}function D(e){var n=f.currentSlide%f.totalSlides,r=e-n;if(r!==0){C();var i=o.querySelectorAll(":scope > "+t.slide),s=[];for(var u=0;u<i.length;u++)s.push(i[u].style.left);var a=p(i,"fire-slider-active");c(i[a],"fire-slider-active");c(f.pagerSpans[f.currentSlide%f.totalSlides],"fire-pager-active");if(r>0){for(u=r;u<i.length;u++)O(i[u],parseFloat(s.shift()),{direction:"next",multiplier:Math.abs(r)});for(u=0;u<r;u++)O(i[u],parseFloat(s.shift()),{direction:"next",multiplier:Math.abs(r)})}else{for(u=i.length+r;u<i.length;u++)O(i[u],parseFloat(s.shift()),{direction:"prev",multiplier:Math.abs(r)});for(u=0;u<i.length+r;u++)O(i[u],parseFloat(s.shift()),{direction:"prev",multiplier:Math.abs(r)})}Velocity.Utilities.dequeue(i,t.effect);f.currentSlide=(f.currentSlide+r)%i.length;l(i[(f.currentSlide+Math.floor(i.length/2))%i.length],"fire-slider-active");l(f.pagerSpans[f.currentSlide%f.totalSlides],"fire-pager-active");N()}}var r={slide:"li",show:1,active:1,prev:"#prev",next:"#next",pager:"#pager",speed:500,delay:5e3,effect:"slideInOut",swipe:!0,hoverPause:!1,disableLinks:!0};t=t||{};for(var s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s]);var o=document.querySelectorAll(e)[0],u=o.querySelectorAll(":scope > "+t.slide),a={},f={show:t.show,active:t.active,prev:document.querySelectorAll(t.prev)[0],next:document.querySelectorAll(t.next)[0],pager:document.querySelectorAll(t.pager)[0],pagerSpans:[],totalSlides:u.length,windowWidth:window.innerWidth,sliderWidth:o.offsetWidth,slideWidth:o.offsetWidth/t.show,slideWidthPercent:1/t.show*100,currentSlide:0,minX:0,maxX:0};k();f.next.addEventListener("click",function(e){e.preventDefault();_()});f.prev.addEventListener("click",function(e){e.preventDefault();M()});f.pager.addEventListener("click",function(e){e.preventDefault();e.target.tagName==="SPAN"&&D(T(e.target))});o.addEventListener("mouseover",function(e){t.hoverPause&&C()});o.addEventListener("mouseout",function(e){t.hoverPause&&N()});t.disableLinks&&o.addEventListener("click",function(e){e.target.tagName==="A"&&(h(e.target.parentNode,"fire-slider-active")||e.preventDefault())});if(t.swipe){var P=1e3,H=50,B=o,j=0,F=0,I="ontouchend"in document,q=I?"touchstart":"mousedown",R=I?"touchmove":"mousemove",U=I?"touchend":"mouseup";o.addEventListener(q,function(e){e.preventDefault();F=e.timeStamp;typeof e.originalEvent!="undefined"?typeof e.originalEvent.touches!="undefined"&&(j=e.originalEvent.touches[0].pageX):j=e.pageX});o.addEventListener(U,function(e){F=0;j=0});o.addEventListener(R,function(e){e.preventDefault();var t=0;typeof e.originalEvent!="undefined"?typeof e.originalEvent.touches!="undefined"&&(t=e.originalEvent.touches[0].pageX):t=e.pageX;var n=0;j!==0&&(n=Math.abs(t-j));var r=e.timeStamp;if(F!==0&&r-F<P&&n>H){t<j&&_();t>j&&M();F=0;j=0}})}window.addEventListener("resize",function(){L()})}})();document.addEventListener("fire-slider-init",function(e){});document.addEventListener("fire-slider-next",function(e){});